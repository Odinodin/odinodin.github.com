<!DOCTYPE html>

<html><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>Odin odin blog</title><link rel="stylesheet" href="/css/responsive.css" /><link type="image/png" rel="shortcut icon" href="favicon.ico" /><link type="application/atom+xml" title="Odinodin blog" rel="alternate" href="/atom.xml" /></head><body><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-36291946-1', 'auto');
ga('send', 'pageview');

</script><div id="main" class="vertical-list"><div class="navbar flex-item"><div class="title">Odin</div><a href="/" class="nav-item">Posts</a><a href="/about/" class="nav-item">About</a><a href="http://github.com/odinodin/odinodinstatic" class="nav-item ender">Source</a></div><div class="content flex-item"><h1 class="large-text-box">Multiple repositories</h1><div class="horizontal-left-list"><div class="date-label">2013-11-23</div><h3 class="subtitle">Saving time</h3></div><p>Have you ever had the need to manage several related repositories in a project? Say for instance you want to pull or push changes to multiple repositories in one go. </p><p>If you are like me, it doesn't take long before you grow tired of repeating commands for each repository. But before you start rolling your own update scripts, there is a better solution that you should try first.</p><h1>mr (myrepos tool)</h1><p>The <a href="http://joeyh.name/code/mr/">mr tool</a>, made by the guy who develops <a href="http://git-annex.branchable.com/">git-annex</a>, enables you to handle multiple repos with a breeze.</p><p>Its pretty simple to use; run the following command in each repository you want to manage:</p>
<pre><code class="codehilite">mr register
</code></pre><p>The effect is that mr now knows about your repository. It is based on a configuration file, ~/.mrconfig. After you've added a couple of repos, it will look something like this.</p>
<pre><code class="codehilite"><span class="o">[</span>git/kodemaker/projectx/web<span class="o">]</span>
<span class="nv">checkout</span> <span class="o">=</span> 
	     git clone <span class="s1">'git@github.com:projectx/web.git'</span> <span class="s1">'web'</span>

<span class="o">[</span>git/kodemaker/projectx/backend<span class="o">]</span>
<span class="nv">checkout</span> <span class="o">=</span> 
	     git clone <span class="s1">'git@github.com:projectx/backend.git'</span> <span class="s1">'backend'</span>
</code></pre><p>There is also support for global commands that will be available for all repos.</p>
<pre><code class="codehilite"><span class="c"># the git_ prefix means this will be available for all git repos by running 'mr update'</span>
<span class="o">[</span>DEFAULT<span class="o">]</span>
<span class="nv">git_update</span> <span class="o">=</span> 
	  git pull 
	  git submodule update --init --recursive
</code></pre><p>Note that you can bind several commands to a single alias; just separate them by a line feed. The example DEFAULT section above will, when run through "mr update", first do a git pull and then update any submodules.</p><p>To top it all of, just when you thought your mind could not get more exploded by mr's awesomeness, there is the -j parameter which will run the mr command as concurrent jobs, greatly speeding up the process. </p>
<pre><code class="codehilite">mr -j20 update
</code></pre></div><div id="bottom" class="flex-item horizontal-list"><a href="http://www.kodemaker.no/cv/odin/" class="bottom-box">CV</a><a href="https://twitter.com/odinodin" class="bottom-box">Twitter</a><a href="http://www.linkedin.com/in/odinholestandal" class="bottom-box">Linkedin</a><a href="http://stackoverflow.com/users/273594/odinodin" class="bottom-box">stackoverflow</a><a href="http://www.kodemaker.no" class="bottom-box">Kodemaker</a><a href="https://www.flickr.com/photos/odinodin" class="bottom-box">Flickr</a><a href="http://500px.com/odinodin" class="bottom-box">500px</a><a href="/atom.xml" class="bottom-box">RSS</a></div></div></body></html>